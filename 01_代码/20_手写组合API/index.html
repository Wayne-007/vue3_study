<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script src="./index.js"></script>
    <script>
        // const ref1 = shallowRef({
        //     name: '小明',
        //     car: {
        //         color: 'red'
        //     }
        // })

        // 读取
        // console.log(ref1.value)

        // 劫持 写入，修改成功
        // ref1.value = 'hh'

        // 劫持 读取，修改成功
        // ref1.value.car.color = 'hh'
        // console.log(ref1.value)


        // const ref2 = ref({
        //     name: '小明',
        //     car: {
        //         color: 'red'
        //     }
        // })

        // 劫持 读取
        // ref2.value

        // 劫持写入
        // ref2.value = 'xxx'

        // 劫持读取，reactive：劫持读取 car，劫持读取color
        // ref2.value.car.color

        // 劫持读取，reactive：劫持 读取car，劫持 写入color
        // ref2.value.car.color = 'hh'


        // === === === === === === === === =

        // 测试shallowReadonly和readonly
        // const proxyUser4 = readonly({
        //     name: '小明',
        //     cars: ['玛莎拉蒂', '保时捷']
        // })

        // 调用 读取
        // proxyUser4.name

        // 拦截了 写入
        // proxyUser4.name = '=='

        // 拦截了 删除
        // delete proxyUser4.name

        // 调用了两次读取，第一次读取cars、第二次读取了cars[0]
        // proxyUser4.cars[0]

        // 读取了 cars，拦截了 写入
        // proxyUser4.cars[0] = '==='

        // 拦截了 读取， 删除
        // delete proxyUser4.cars[0]


        // const proxyUser3 = shallowReadonly({
        //     name: '小明',
        //     cars: ['玛莎拉蒂', '保时捷']
        // })

        // 调用 读取
        // proxyUser3.name

        // 拦截了写入，数据未改变
        // proxyUser3.name = 'hhh'

        // 拦截删除
        // delete proxyUser3.name

        // 调用 读取
        // proxyUser3.cars[0]

        // 调用 读取，数据改变
        // proxyUser3.cars[0] = 'hhh'

        // 调用 读取，删除未成功
        // delete proxyUser3.cars[0]


        // ==================


        /*         
        const proxyUser1 = shallowReactive({
            name: '小明',
            car: {
                name: '保时捷'
            }
        })

        // 拦截写入
        // proxyUser1.name = '小红'

        // 拦截到读取、写入
        // proxyUser1.name += '=='

        // 拦截读取
        // proxyUser1.car.name = '玛莎拉蒂'
        // proxyUser1.car.name += '玛莎拉蒂'

        // 拦截到了删除
        // delete proxyUser1.name

        // 拦截到了读取
        // delete proxyUser1.car.name
         */

        // const proxyUser2 = reactive({
        //     name: '小明',
        //     car: {
        //         name: '保时捷'
        //     }
        // })

        // 拦截到写入
        // proxyUser2.name = '小红'

        // 拦截到读取、写入
        // proxyUser2.car.name = '玛莎拉蒂'

        // 拦截到了删除
        // delete proxyUser2.name

        // 拦截到读取、删除
        // delete proxyUser2.car.name


        // ==================

        console.log(isRef(ref({})))
        console.log(isReadonly(readonly({})))
        console.log(isReactive(reactive({})))
        console.log(isProxy(readonly({})))
        console.log(isProxy(reactive({})))
    </script>
</body>

</html>
